project:
  name: tomo
  data_dir: .bait-tomo
storage:
  conversations_dir: /Users/ecodrea/tomo-bait/conversations
documentation:
  git_repos:
  - https://github.com/xray-imaging/2bm-docs.git
  local_folders: []
  docs_output_dir: /Users/ecodrea/tomo-bait/tomo_documentation
  sphinx_build_html_path: /Users/ecodrea/tomo-bait/tomo_documentation/2bm-docs/docs/_build/html
  resources:
    beamlines:
      2bm:
        name: 2-BM Bending Magnet Beamline
        official_page: https://www.aps.anl.gov/Beamlines/Directory/Details?beamline_id=22
        documentation: https://2bm-docs.readthedocs.io/
        github_docs: https://github.com/xray-imaging/2bm-docs
        purpose: X-ray imaging and tomography with emphasis on time-resolved studies
      32id:
        name: 32-ID Insertion Device Beamline (TXM)
        official_page: https://www.aps.anl.gov/Beamlines/Directory/Details?beamline_id=60
        alternative_names:
        - ID32
        - TXM
        purpose: High-resolution transmission X-ray microscopy and nano-tomography
    organizations:
      aps:
        name: Advanced Photon Source
        website: https://www.aps.anl.gov/
        upgrade: https://www.aps.anl.gov/APS-Upgrade
      anl:
        name: Argonne National Laboratory
        website: https://www.anl.gov/
    software:
      core_reconstruction:
        tomopy:
          description: Open-source Python toolbox for tomographic data processing and
            image reconstruction
          pypi: https://pypi.org/project/tomopy/
          github: https://github.com/tomopy/tomopy
          docs: https://tomopy.readthedocs.io/
          maintainer: X-ray Science Division, APS
        astra_toolbox:
          description: High-performance GPU primitives for 2D and 3D tomography
          pypi: https://pypi.org/project/astra-toolbox/
          github: https://github.com/astra-toolbox/astra-toolbox
          docs: https://www.astra-toolbox.com/
        scikit_image:
          description: Image processing library with tomography utilities
          pypi: https://pypi.org/project/scikit-image/
          github: https://github.com/scikit-image/scikit-image
          docs: https://scikit-image.org/
      beamline_control:
        tomoscan:
          description: Python library for tomography data acquisition at APS
          github: https://github.com/tomography/tomoscan
          features:
          - EPICS integration
          - Automated workflows
          - Fly-scan and step-scan modes
        dmagic:
          description: Data management and workflow tools for tomography
          github: https://github.com/xray-imaging/dmagic
        pyepics:
          description: Python interface to EPICS
          pypi: https://pypi.org/project/pyepics/
          github: https://github.com/pyepics/pyepics
          website: https://epics-controls.org/
      data_processing:
        tomopy_cli:
          description: Command-line interface for TomoPy reconstruction
          github: https://github.com/tomography/tomopy-cli
          pypi: https://pypi.org/project/tomopy-cli/
        xi_cam:
          description: Extensible platform for synchrotron data analysis
          github: https://github.com/Xi-CAM/Xi-cam
          docs: https://xi-cam.readthedocs.io/
        dxfile:
          description: Data Exchange file format utilities
          github: https://github.com/data-exchange/dxfile
      visualization:
        tomviz:
          description: Cross-platform application for 3D visualization of tomography
          website: https://tomviz.org/
          github: https://github.com/OpenChemistry/tomviz
        napari:
          description: Multi-dimensional image viewer
          website: https://napari.org/
          pypi: https://pypi.org/project/napari/
        paraview:
          description: Advanced 3D scientific visualization
          website: https://www.paraview.org/
      file_formats:
        h5py:
          description: HDF5 for Python
          pypi: https://pypi.org/project/h5py/
        nexusformat:
          description: NeXus HDF5 standard for scientific data
          pypi: https://pypi.org/project/nexusformat/
          github: https://github.com/nexpy/nexusformat
        tifffile:
          description: Advanced TIFF reading/writing for scientific imaging
          pypi: https://pypi.org/project/tifffile/
    python_ecosystem:
      scientific_stack:
      - name: NumPy
        website: https://numpy.org/
        purpose: Array operations
      - name: SciPy
        website: https://scipy.org/
        purpose: Scientific algorithms
      - name: Matplotlib
        website: https://matplotlib.org/
        purpose: Plotting and visualization
      - name: Pandas
        website: https://pandas.pydata.org/
        purpose: Data analysis
      parallel_processing:
      - name: Dask
        website: https://www.dask.org/
        pypi: https://pypi.org/project/dask/
        purpose: Parallel computing for large datasets
      - name: mpi4py
        pypi: https://pypi.org/project/mpi4py/
        purpose: MPI bindings for distributed computing
      machine_learning:
      - name: scikit-learn
        website: https://scikit-learn.org/
        purpose: Classical ML algorithms
      - name: TensorFlow
        website: https://www.tensorflow.org/
        purpose: Deep learning
      - name: PyTorch
        website: https://pytorch.org/
        purpose: Deep learning
    community:
      documentation:
      - name: TomoPy Tutorials
        url: https://tomopy.readthedocs.io/en/latest/tutorials.html
      - name: APS User Information
        url: https://www.aps.anl.gov/Users-Information
      publications:
      - name: Journal of Synchrotron Radiation
        url: https://journals.iucr.org/s/
      - name: arXiv (physics.ins-det)
        url: https://arxiv.org/archive/physics.ins-det
    github_organizations:
    - name: xray-imaging
      url: https://github.com/xray-imaging
      description: APS beamline software and documentation
    - name: tomography
      url: https://github.com/tomography
      description: TomoPy and related reconstruction tools
    - name: areaDetector
      url: https://github.com/areaDetector
      description: EPICS drivers for 2D detectors
retriever:
  db_path: null
  embedding_model: sentence-transformers/all-MiniLM-L6-v2
  k: 3
  search_type: similarity
  score_threshold: null
llm:
  api_key: ecodrea
  model: gpt4o
  api_type: openai
  base_url: https://apps-dev.inside.anl.gov/argoapi/api/v1/resource/chat/
  system_message: 'You are an expert on this project''s documentation. When answering
    questions: 1. Answer based *only* on the context from your ''query_documentation''
    tool 2. Provide concise but complete responses (2-3 paragraphs) 3. For "how to"
    questions, provide step-by-step numbered instructions 4. Include relevant source
    links from the context (documentation URLs, GitHub, PyPI, etc.) 5. If the context
    is insufficient, say so. Do not make up answers.'
text_processing:
  chunk_size: 1000
  chunk_overlap: 200
server:
  backend_host: 127.0.0.1
  backend_port: 8001
  frontend_host: 0.0.0.0
  frontend_port: 8000
# Agent configurations
agents:
  default_workflow: sequential
  agents:
    - name: query_analyzer
      type: assistant
      enabled: true
      description: "Analyzes user questions and determines optimal retrieval strategy"
      system_message: |
        You are a Query Analyzer expert. Your role is to:
        1. Analyze user questions to understand intent
        2. Classify question type (factual, how-to, troubleshooting, comparison, code-related)
        3. Extract key entities (beamline names, software packages, technical terms)
        4. Determine the optimal retrieval strategy
        5. Route to appropriate specialist agents

        For each question, provide:
        - Question type classification
        - Extracted entities
        - Recommended retrieval strategy (semantic, keyword, hybrid)
        - Suggested specialist agents to consult
        - Query refinements or expansions

        Be concise and structured in your analysis.

    - name: doc_expert
      type: assistant
      enabled: true
      description: "Main documentation expert for answering questions"
      system_message: |
        You are a helpful documentation assistant for the 2-BM tomography beamline at Argonne National Laboratory.
        Your role is to answer questions accurately based on the retrieved documentation.

        Guidelines:
        - Always cite your sources with specific documentation sections
        - If information is not in the retrieved documents, say so clearly
        - Provide code examples when relevant
        - Use technical terminology appropriately
        - Format responses in clear markdown
        - Include links to relevant documentation pages

    - name: citation_specialist
      type: assistant
      enabled: true
      description: "Extracts precise citations and formats references"
      system_message: |
        You are a Citation Specialist. Your role is to:
        1. Extract precise citations from documentation
        2. Generate proper markdown references with section names
        3. Link answers to specific documentation sections
        4. Create formatted bibliographies
        5. Track documentation versions when available

        For each citation:
        - Include document title and section
        - Provide full URL or file path
        - Add relevant line numbers or page numbers
        - Format consistently in markdown

        Example format:
        [1] Section Title, Document Name, URL#section

    - name: beamline_expert
      type: assistant
      enabled: true
      description: "Specialized knowledge about APS beamlines"
      system_message: |
        You are a Beamline Expert specializing in Advanced Photon Source (APS) beamlines.
        You have deep knowledge of:
        - 2-BM tomography beamline specifications and capabilities
        - Other APS beamlines for comparison
        - Experimental techniques and best practices
        - Beamline equipment and configurations

        Your expertise includes:
        - Recommending appropriate beamlines for user needs
        - Comparing different beamline capabilities
        - Explaining technical specifications
        - Troubleshooting beamline-related issues

        Always provide accurate technical details and cite beamline documentation.

    - name: tool_worker
      type: user_proxy
      enabled: true
      description: "Executes tools for document retrieval"
      system_message: "You are a tool execution agent. Execute the requested tools and return results."
      human_input_mode: "NEVER"
      code_execution_config: false
